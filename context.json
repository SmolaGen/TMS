{
  "files_to_modify": {
    "backend": [
      "src/database/models.py",
      "src/services/notification_service.py",
      "src/config.py"
    ]
  },
  "files_to_reference": [
    "src/services/notification_service.py",
    "src/services/routing.py",
    "src/database/models.py"
  ],
  "patterns": {
    "service_pattern": "Services use dependency injection for Bot and AsyncSession. They use structlog for logging.",
    "database_pattern": "SQLAlchemy 2.0 with AsyncSession, Mapped, and mapped_column. Enums are used for statuses.",
    "api_pattern": "FastAPI with APIRouter. Webhooks are supported for Telegram updates."
  },
  "existing_implementations": {
    "description": "Found existing NotificationService in src/services/notification_service.py used for driver notifications. RoutingService exists in src/services/routing.py for OSRM interactions.",
    "relevant_files": [
      "src/services/notification_service.py",
      "src/services/routing.py",
      "src/database/models.py"
    ]
  }
}
