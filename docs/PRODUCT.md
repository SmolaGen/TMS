# TMS — Возможности платформы

## Обзор

**TMS (Transport Management System)** — комплексное решение для управления логистикой и транспортом. Система объединяет работу диспетчеров, водителей и внешних партнёров в единой цифровой экосистеме.

---

## 1. Диспетчерская панель (Web-интерфейс)

### 1.1 Управление заказами
| Функция | Описание |
|---------|----------|
| Создание заказов | Ручной ввод или импорт из Excel |
| Визуальное планирование | Gantt-таймлайн с Drag-and-Drop перестановкой заказов |
| Защита от конфликтов | Система не позволит назначить водителя на пересекающиеся по времени заказы |
| Массовое распределение | Автоматическое назначение сотен заказов одной кнопкой |

### 1.2 Отслеживание парка
| Функция | Описание |
|---------|----------|
| Карта в реальном времени | Все водители отображаются на интерактивной карте |
| Кластеризация | При большом количестве водителей маркеры автоматически группируются |
| История перемещений | Сохранение треков для последующего анализа |

### 1.3 Водители и статистика
| Функция | Описание |
|---------|----------|
| Профили водителей | Управление списком, блокировка, назначение ролей |
| KPI | Количество выполненных заказов, процент отмен, общий заработок за период |
| Расписание | Просмотр занятости водителя на любую дату |

---

## 2. Мобильное приложение водителя (Telegram Bot)

Водителю не нужно устанавливать отдельное приложение — всё управление происходит через знакомый мессенджер Telegram.

| Функция | Описание |
|---------|----------|
| Управление сменой | Начало/завершение рабочего дня одной кнопкой |
| Список заказов | Просмотр назначенных заказов на сегодня |
| Статусы заказа | Обновление статуса: "Выехал", "Прибыл", "Начал погрузку", "Завершил" |
| Трансляция геопозиции | Стандартная функция Telegram — без дополнительных затрат |
| Уведомления | Push-оповещения о новых назначениях |

---

## 3. Автоматизация и интеграции

### 3.1 API для внешних систем
Подрядчики и партнёры могут напрямую интегрироваться с платформой:
- **Создание заказов:** Пакетная загрузка через REST API.
- **Статусы в реальном времени:** Webhook-уведомления при изменении статуса заказа.
- **Аутентификация:** Каждый партнёр получает уникальный API-ключ.

### 3.2 Гео-сервисы
| Сервис | Описание |
|--------|----------|
| Маршрутизация (OSRM) | Построение маршрутов с учётом дорожной сети и расчёт ETA |
| Геокодирование (Photon) | Поиск адреса по строке и получение адреса по координатам |
| Расчёт стоимости | Автоматический тариф: базовая ставка + цена за километр |

---

## 4. Безопасность и надёжность

- **Авторизация через Telegram:** Надёжная верификация без паролей.
- **Контроль доступа:** Роли "Водитель", "Диспетчер", "Администратор".
- **Приватность данных:** Система разворачивается на вашем сервере — данные не уходят третьим лицам.
- **Мониторинг:** Встроенная интеграция с Sentry (ошибки) и Prometheus (метрики).

---

## 5. Ограничения текущей версии

| Чего пока нет | Комментарий |
|---------------|-------------|
| Приложение для клиента (получателя) | Клиент не видит трек курьера; только диспетчер отслеживает доставку |
| Задача коммивояжёра (TSP/VRP) | Нет автоматического построения оптимальной цепочки из 10+ точек в одном заказе |
| Бухгалтерский учёт | Нет печати счетов и интеграции с 1С |
| Учёт ГСМ и ТО | Нет контроля топлива и планового техобслуживания |

---

## 6. Технические преимущества

- **Open Source стек:** Нет лицензионных платежей западным вендорам.
- **Масштабируемость:** Добавление воркеров и реплик при росте нагрузки.
- **Скорость:** Данные о геолокации обрабатываются через Redis (In-Memory).
- **Кроссплатформенность:** Web-панель работает на любом устройстве с браузером.

---

## Резюме

TMS — это готовый фундамент для цифровизации логистики: от ввода заказа до отметки о выполнении. Система снижает количество ошибок диспетчеров, сокращает время на планирование и даёт полный контроль над парком в реальном времени.
